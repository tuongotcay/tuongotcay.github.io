let cart=[],cartTotal=0;function initScrollEffects(){let e=document.querySelector(".header"),o=document.querySelector(".scroll-indicator");window.addEventListener("scroll",function(){var t=window.pageYOffset||document.documentElement.scrollTop;100<t?(e.style.background="rgba(139, 0, 0, 0.98)",e.style.boxShadow="0 2px 20px rgba(0,0,0,0.1)"):(e.style.background="rgba(139, 0, 0, 0.95)",e.style.boxShadow="none"),o.style.opacity=200<t?"0":"1"}),o&&o.addEventListener("click",function(){document.querySelector("#products").scrollIntoView({behavior:"smooth"})})}function initCart(){var t=localStorage.getItem("chiliSauceCart");t&&(cart=JSON.parse(t),updateCartDisplay())}function initContactForm(){let i=document.getElementById("contactForm");i&&i.addEventListener("submit",function(t){t.preventDefault();var t=new FormData(i),e=t.get("name"),o=t.get("email"),n=t.get("phone"),t=t.get("message");showNotification(`C·∫£m ∆°n ${e}! Ch√∫ng t√¥i s·∫Ω li√™n h·ªá v·ªõi b·∫°n trong th·ªùi gian s·ªõm nh·∫•t.`,"success"),i.reset(),saveContactInfo({name:e,email:o,phone:n,message:t})})}function initSmoothScroll(){document.querySelectorAll(".nav-link").forEach(t=>{t.addEventListener("click",function(t){var e=this.getAttribute("href");e.startsWith("#")&&(t.preventDefault(),t=e.substring(1),e=document.getElementById(t))&&e.scrollIntoView({behavior:"smooth"})})})}function animateOnLoad(){document.querySelectorAll(".product-card").forEach((t,e)=>{setTimeout(()=>{t.style.opacity="1",t.style.transform="translateY(0)"},200*e)}),document.querySelectorAll(".testimonial-card").forEach((t,e)=>{setTimeout(()=>{t.style.opacity="1",t.style.transform="translateY(0)"},300*e+500)})}function addToCart(e,t){var o=cart.find(t=>t.name===e);o?o.quantity+=1:cart.push({name:e,price:t,quantity:1}),cartTotal+=t,localStorage.setItem("chiliSauceCart",JSON.stringify(cart)),updateCartDisplay(),showNotification(e+" ƒë√£ ƒë∆∞·ª£c th√™m v√†o gi·ªè h√†ng!","success"),document.querySelectorAll(".btn-buy").forEach(t=>{t.style.transform="scale(0.95)",setTimeout(()=>{t.style.transform="scale(1)"},150)})}function updateCartDisplay(){var t=document.getElementById("cartItems"),e=document.getElementById("cartTotal");if(0===cart.length)t.innerHTML="<p>Gi·ªè h√†ng tr·ªëng</p>",e.textContent="0";else{let o="";cart.forEach((t,e)=>{o+=`
            <div class="cart-item">
                <div class="cart-item-info">
                    <h4>${t.name}</h4>
                    <p>‚Ç´${t.price.toLocaleString()}</p>
                </div>
                <div class="cart-item-controls">
                    <button class="quantity-btn" onclick="updateQuantity(${e}, -1)">-</button>
                    <span class="quantity">${t.quantity}</span>
                    <button class="quantity-btn" onclick="updateQuantity(${e}, 1)">+</button>
                    <button class="remove-btn" onclick="removeFromCart(${e})">
                        <i class="fas fa-trash"></i>
                    </button>
                </div>
            </div>
        `}),t.innerHTML=o,e.textContent=cartTotal.toLocaleString()}}function updateQuantity(t,e){var o=cart[t];-1===e&&1===o.quantity?removeFromCart(t):(o.quantity+=e,cartTotal+=e*o.price,localStorage.setItem("chiliSauceCart",JSON.stringify(cart)),updateCartDisplay(),showNotification("S·ªë l∆∞·ª£ng ƒë√£ ƒë∆∞·ª£c c·∫≠p nh·∫≠t!","info"))}function removeFromCart(t){var e=cart[t];cartTotal-=e.price*e.quantity,cart.splice(t,1),localStorage.setItem("chiliSauceCart",JSON.stringify(cart)),updateCartDisplay(),showNotification("S·∫£n ph·∫©m ƒë√£ ƒë∆∞·ª£c x√≥a kh·ªèi gi·ªè h√†ng!","warning")}function openCart(){document.getElementById("cartModal").style.display="block",document.body.style.overflow="hidden"}function closeCart(){document.getElementById("cartModal").style.display="none",document.body.style.overflow="auto"}function checkout(){if(0===cart.length)showNotification("Gi·ªè h√†ng c·ªßa b·∫°n ƒëang tr·ªëng!","warning");else{let e="üìã ƒê∆†N H√ÄNG C·ª¶A B·∫†N:\n\n";cart.forEach(t=>{e+=`‚Ä¢ ${t.name} x ${t.quantity} = ‚Ç´${(t.price*t.quantity).toLocaleString()}
`}),showNotification(e=e+(`
üí∞ T·ªîNG C·ªòNG: ‚Ç´`+cartTotal.toLocaleString())+"\n\nüìû Ch√∫ng t√¥i s·∫Ω li√™n h·ªá v·ªõi b·∫°n ƒë·ªÉ x√°c nh·∫≠n ƒë∆°n h√†ng!","success"),cart=[],cartTotal=0,localStorage.removeItem("chiliSauceCart"),updateCartDisplay(),closeCart()}}function showNotification(t,e="info"){var o=document.querySelector(".notification");o&&o.remove();let n=document.createElement("div");n.className="notification notification-"+e,n.innerHTML=`
        <div class="notification-content">
            <span class="notification-message">${t}</span>
            <button class="notification-close" onclick="closeNotification(this)">
                <i class="fas fa-times"></i>
            </button>
        </div>
    `,document.body.appendChild(n),setTimeout(()=>{n.classList.add("show")},100),setTimeout(()=>{closeNotification(n.querySelector(".notification-close"))},5e3)}function closeNotification(t){let e=t.closest(".notification");e.classList.remove("show"),setTimeout(()=>{e.remove()},300)}function scrollToProducts(){document.querySelector("#products").scrollIntoView({behavior:"smooth"})}function scrollToAbout(){document.querySelector("#about").scrollIntoView({behavior:"smooth"})}function callNow(){var t="0982722036";showNotification(`üìû G·ªçi ngay: ${t}

Xin ch√†o! T√¥i mu·ªën h·ªèi v·ªÅ s·∫£n ph·∫©m t∆∞∆°ng ·ªõt t·ª´ website c·ªßa b·∫°n.`,"success"),window.location.href="tel:"+t,setTimeout(()=>{document.querySelector("#contact").scrollIntoView({behavior:"smooth"})},2e3)}function contactZalo(){let t="0982722036";encodeURIComponent("Xin ch√†o! T√¥i mu·ªën h·ªèi v·ªÅ s·∫£n ph·∫©m t∆∞∆°ng ·ªõt t·ª´ website.");showNotification("üîµ ƒêang m·ªü Zalo ƒë·ªÉ li√™n h·ªá...","info"),window.open("https://zalo.me/"+t,"_blank"),setTimeout(()=>{showNotification(`üì± Zalo: ${t}

Ho·∫∑c g·ªçi tr·ª±c ti·∫øp: 0982722036`,"success")},1e3)}function contactWholesale(){showNotification(`
üè™ MUA B√ÅN BU√îN - ƒê·∫†I L√ù

üì¶ D√†nh cho:
‚Ä¢ Qu√°n b√∫n, ph·ªü, b√°nh m·ª≥
‚Ä¢ Nh√† h√†ng, qu√°n ƒÉn
‚Ä¢ ƒê·∫°i l√Ω, c·ª≠a h√†ng t·∫°p h√≥a
‚Ä¢ Qu√°n bia, gi·∫£i kh√°t

üí∞ ∆Øu ƒë√£i ƒë·∫∑c bi·ªát:
‚Ä¢ Gi√° t·ªët cho ƒë∆°n h√†ng l·ªõn
‚Ä¢ Chi·∫øt kh·∫•u theo s·ªë l∆∞·ª£ng
‚Ä¢ H·ªó tr·ª£ giao h√†ng nhanh
‚Ä¢ T∆∞ v·∫•n s·∫£n ph·∫©m ph√π h·ª£p

üìû Li√™n h·ªá ngay:
‚Ä¢ SƒêT: 0982722036
‚Ä¢ Zalo: 0982722036
‚Ä¢ Email: vietthanh228@gmail.com

Ho·∫∑c ƒëi·ªÅn form b√™n c·∫°nh ƒë·ªÉ ƒë∆∞·ª£c t∆∞ v·∫•n chi ti·∫øt!
    `,"info"),setTimeout(()=>{document.querySelector("#contact").scrollIntoView({behavior:"smooth"})},1e3)}function saveContactInfo(t){var e=JSON.parse(localStorage.getItem("chiliSauceContacts")||"[]");e.push({...t,date:(new Date).toISOString(),id:Date.now()}),localStorage.setItem("chiliSauceContacts",JSON.stringify(e))}function updateCartCount(){var t=cart.reduce((t,e)=>t+e.quantity,0);document.title=0<t?`T∆∞∆°ng ·ªöt Si√™u Cay (${t})`:"T∆∞∆°ng ·ªöt Si√™u Cay Nguy√™n Ch·∫•t - ƒê·ªët Ch√°y V·ªã Gi√°c!"}document.addEventListener("DOMContentLoaded",function(){initScrollEffects(),initCart(),initContactForm(),initSmoothScroll(),animateOnLoad()}),setInterval(updateCartCount,1e3);let notificationCSS=`
.notification {
    position: fixed;
    top: 100px;
    right: 20px;
    background: white;
    border-radius: 15px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.2);
    z-index: 10001;
    transform: translateX(400px);
    opacity: 0;
    transition: all 0.3s ease;
    max-width: 350px;
    word-wrap: break-word;
    white-space: pre-line;
}

.notification.show {
    transform: translateX(0);
    opacity: 1;
}

.notification-success {
    border-left: 5px solid #28a745;
}

.notification-warning {
    border-left: 5px solid #ffc107;
}

.notification-info {
    border-left: 5px solid #17a2b8;
}

.notification-content {
    padding: 1rem;
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    gap: 1rem;
}

.notification-message {
    flex: 1;
    line-height: 1.4;
}

.notification-close {
    background: none;
    border: none;
    color: #999;
    cursor: pointer;
    padding: 0;
    font-size: 1rem;
    transition: color 0.3s ease;
}

.notification-close:hover {
    color: #333;
}

.cart-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 1rem 0;
    border-bottom: 1px solid #eee;
}

.cart-item:last-child {
    border-bottom: none;
}

.cart-item-info h4 {
    margin-bottom: 0.3rem;
    color: #8b0000;
}

.cart-item-info p {
    color: #666;
    font-size: 0.9rem;
}

.cart-item-controls {
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.quantity-btn {
    width: 30px;
    height: 30px;
    border: 1px solid #ddd;
    background: white;
    border-radius: 50%;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.3s ease;
}

.quantity-btn:hover {
    background: #ff6b35;
    color: white;
    border-color: #ff6b35;
}

.quantity {
    margin: 0 0.5rem;
    min-width: 20px;
    text-align: center;
}

.remove-btn {
    background: #dc3545;
    color: white;
    border: none;
    border-radius: 50%;
    width: 30px;
    height: 30px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.3s ease;
}

.remove-btn:hover {
    background: #c82333;
    transform: scale(1.1);
}

/* Kh·ªüi t·∫°o tr·∫°ng th√°i ban ƒë·∫ßu cho c√°c elements */
document.addEventListener('DOMContentLoaded', function() {
    // ·∫®n c√°c product cards ban ƒë·∫ßu ƒë·ªÉ animation
    const productCards = document.querySelectorAll('.product-card');
    const testimonialCards = document.querySelectorAll('.testimonial-card');

    productCards.forEach(card => {
        card.style.opacity = '0';
        card.style.transform = 'translateY(20px)';
        card.style.transition = 'all 0.5s ease';
    });

    testimonialCards.forEach(card => {
        card.style.opacity = '0';
        card.style.transform = 'translateY(20px)';
        card.style.transition = 'all 0.5s ease';
    });
});
`,style=document.createElement("style");style.textContent=notificationCSS,document.head.appendChild(style);